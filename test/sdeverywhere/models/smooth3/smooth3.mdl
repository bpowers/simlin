{UTF-8}
a=
	1
	~	
	~		|

S3=
	SMOOTH3(s3 input, MAX(a, b))
	~	
	~		|

b=
	2
	~	
	~		|

s3 input=
	3 + PULSE(10, 10)
	~	
	~		|

apt=
	1
	~	
	~		|

ca[A1]=
	1000 + RAMP(100, 1, 10) ~~|
ca[A2]=
	1000 + RAMP(300, 1, 10) ~~|
ca[A3]=
	1000 + RAMP(600, 1, 10)
	~	
	~		|

cs[DimA]=
	MIN(SMOOTH3(sr, apt), ca[DimA] / TIME STEP)
	~	
	~		|

sr=
	COS(Time / 5)
	~	
	~		|

DimA:
	A1, A2, A3
	~	
	~		|

S2 Level 1= INTEG (
	(input - S2 Level 1) / S2 Delay,
		input)
	~	
	~		|

S2=
	scale * S2 Level 3
	~	
	~		|

S2 Level 3= INTEG (
	(S2 Level 2 - S2 Level 3) / S2 Delay,
		input)
	~	
	~		|

S2 Level 2= INTEG (
	(S2 Level 1 - S2 Level 2) / S2 Delay,
		input)
	~	
	~		|

S2 Delay=
	delay / 3
	~	
	~		|

delay=
	2
	~	
	~		|

input=
	3 + PULSE(10, 10)
	~	
	~		|

S1=
	scale * SMOOTH3(input, delay)
	~	
	~		|

scale=
	6
	~	
	~		|

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
	|

FINAL TIME  = 40
	~	Month
	~	The final time for the simulation.
	|

INITIAL TIME  = 0
	~	Month
	~	The initial time for the simulation.
	|

SAVEPER  = 
        TIME STEP
	~	Month [0,?]
	~	The frequency with which output is stored.
	|

TIME STEP  = 1
	~	Month [0,?]
	~	The time step for the simulation.
	|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$192-192-192,0,Times New Roman|12||0-0-0|0-0-0|0-0-255|-1--1--1|-1--1--1|96,96,100,0
10,1,scale,111,187,17,11,8,3,0,0,0,0,0,0
10,2,input,203,187,17,11,8,3,0,0,0,0,0,0
10,3,delay,293,185,18,11,8,3,0,0,0,0,0,0
10,4,S1,203,122,11,11,8,3,0,0,0,0,0,0
10,5,S2,204,402,11,11,8,3,0,0,0,0,0,0
10,6,S2 Level 1,204,322,40,20,3,3,0,0,0,0,0,0
1,7,2,4,0,0,0,0,0,128,0,-1--1--1,,1|(203,161)|
1,8,3,4,0,0,0,0,0,128,0,-1--1--1,,1|(251,155)|
1,9,2,6,0,0,0,0,0,128,0,-1--1--1,,1|(203,243)|
1,10,1,5,1,0,0,0,0,128,0,-1--1--1,,1|(123,323)|
1,11,1,4,0,0,0,0,0,128,0,-1--1--1,,1|(153,156)|
10,12,S2 Level 2,351,321,40,20,3,3,0,0,0,0,0,0
10,13,S2 Level 3,486,322,40,20,3,3,0,0,0,0,0,0
1,14,6,12,0,0,0,0,0,128,0,-1--1--1,,1|(270,321)|
1,15,12,13,0,0,0,0,0,128,0,-1--1--1,,1|(411,321)|
1,16,13,5,1,0,0,0,0,128,0,-1--1--1,,1|(343,382)|
10,17,S2 Delay,333,246,42,11,8,3,0,0,0,0,0,0
1,18,3,17,0,0,0,0,0,128,0,-1--1--1,,1|(308,209)|
1,19,17,6,0,0,0,0,0,128,0,-1--1--1,,1|(282,276)|
1,20,17,12,0,0,0,0,0,128,0,-1--1--1,,1|(338,272)|
1,21,17,13,0,0,0,0,0,128,0,-1--1--1,,1|(394,276)|
1,22,2,12,0,0,0,0,0,64,1,-1--1--1,,1|(266,244)|
1,23,2,13,0,0,0,0,0,64,1,-1--1--1,,1|(326,245)|
10,24,sr,676,186,8,11,8,3,0,0,0,0,0,0
10,25,apt,774,188,12,11,8,3,0,0,0,0,0,0
10,26,ca,865,189,9,11,8,3,0,0,0,0,0,0
10,27,cs,773,122,9,11,8,3,0,0,0,0,0,0
1,28,24,27,1,0,0,0,0,128,0,-1--1--1,,1|(708,153)|
1,29,25,27,0,0,0,0,0,128,0,-1--1--1,,1|(773,161)|
1,30,26,27,1,0,0,0,0,128,0,-1--1--1,,1|(837,153)|
10,31,TIME STEP,722,229,50,11,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|12||128-128-128
1,32,31,27,0,0,0,0,0,64,0,-1--1--1,,1|(744,181)|
10,33,Time,626,229,26,11,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|12||128-128-128
1,34,33,24,0,0,0,0,0,64,0,-1--1--1,,1|(647,209)|
10,35,S3,779,370,11,11,8,3,0,0,0,0,0,0
10,36,s3 input,660,368,26,11,8,3,0,0,0,0,0,0
10,37,a,866,341,6,11,8,3,0,0,0,0,0,0
10,38,b,868,401,6,11,8,3,0,0,0,0,0,0
1,39,37,35,0,0,0,0,0,128,0,-1--1--1,,1|(831,352)|
1,40,38,35,0,0,0,0,0,128,0,-1--1--1,,1|(832,388)|
1,41,36,35,0,0,0,0,0,128,0,-1--1--1,,1|(720,368)|
///---\\\
:L<%^E!@
1:smooth3.vdf
9:smooth3
15:0,0,0,0,0,0
19:100,0
27:2,
34:0,
4:Time
5:S3
35:Date
36:YYYY-MM-DD
37:2000
38:1
39:1
40:2
41:0
42:0
24:0
25:40
26:40
6:A1
6:A2
6:A3
